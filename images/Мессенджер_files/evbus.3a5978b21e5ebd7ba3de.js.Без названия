(window.webpackJsonp=window.webpackJsonp||[]).push([["evbus"],{MJEz:function(t,e,r){"use strict";r.r(e),r.d(e,"init",(function(){return f})),r.d(e,"tq",(function(){return p}));var n,a=r("4O8T"),o=r.n(a);!function(t){t.EV_GC_START="ev_gc_start",t.EV_GC_END="ev_gc_end",t.EV_PAUSED="ev_paused",t.EV_RESTARTED="ev_restarted",t.EV_NEW_HANDLER="ev_new_handler",t.EV_RM_HANDLER="ev_rm_handler",t.EV_TASK_START="ev_task_start"}(n||(n={}));var i=function(){function t(t){var e=this;void 0===t&&(t=function(){}),this._errorHandler=t,this._timerInterval=15,this._gcInterval=5e3,this._handlers=Object.create(null),this._emitter=new o.a,this._q=[],this.destroy=function(){e.pause(),clearInterval(e._gcTimer)},this.pause=function(){e._timer&&(clearTimeout(e._timer),e._timer=void 0,e._emitter.emit(n.EV_PAUSED))},this.restart=function(){e._timer||(e._next(),e._emitter.emit(n.EV_RESTARTED))},this.push=function(t){e._q.push(t),e.restart()},this.setHandler=function(t,r,a){void 0===a&&(a=!1),r.once=a,e._handlers[t]=r,e._emitter.emit(n.EV_NEW_HANDLER,t)},this.removeHandler=function(t){delete e._handlers[t],e._emitter.emit(n.EV_RM_HANDLER,t)},this._next(),this._gcTimer=setInterval(this._gcTask.bind(this),this._gcInterval)}return Object.defineProperty(t.prototype,"events",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),t.migrate=function(e,r){void 0===r&&(r=function(){});var n=new t(r);return n.pause(),e&&e.destroy&&e._handlers&&e._q&&(e.destroy(),Object.keys(e._handlers).forEach((function(t){var r=e._handlers[t];n.setHandler(t,r,r.once)})),e._q.forEach((function(t){return n.push(t)}))),n.restart(),n},t.prototype._next=function(t){void 0===t&&(t=!1),this._timer=setTimeout(this._processNext.bind(this),t?0:this._timerInterval)},t.prototype._gcTask=function(){this.pause(),this._emitter.emit(n.EV_GC_START);var t=this._q.filter((function(t){return t.postponed}));this._q=this._q.filter((function(t){return!t.postponed})),this._emitter.emit(n.EV_GC_END,t),this.restart()},t.prototype._processNext=function(){var t=this,e=this._q.splice(0,1)[0];if(e){var r,a=this._handlers[e.selector];if((null==a?void 0:a.once)&&this.removeHandler(e.selector),!a)return e.postponed||(e.postponed=!0),this._q.push(e),void(this._timer&&this._next());this._emitter.emit(n.EV_TASK_START,e.selector),window._tqVerbose&&console.info("Running evbus task",e.selector);try{r=Promise.resolve(a(e))}catch(t){r=Promise.reject(t)}r.then((function(){t._next(!0)}),(function(r){t._errorHandler&&t._errorHandler(e,r),t._next(!0)}))}else this.pause()},t}(),s={click:1,mouseover:1,mouseout:1},d=function(t){return function(e){var r;if(e.type===t&&e.target&&t&&(r=e.target.nodeType===Node.TEXT_NODE?e.target.parentNode:e.target,n=r,!Object.keys(n).some((function(t){return t.startsWith("_react")||t.startsWith("__react")}))&&r.dataset)){var n,a=r.dataset["task"+(t.toUpperCase()[0]+t.slice(1))];return a&&(E().push({selector:a,payload:{dataAttrs:r.dataset,event:e},postponed:!1,createTime:Date.now()}),r.dataset.prevent)?(e.preventDefault(),!1):void 0}}},c=function(t,e){if(t.matches("[data-exec]")){if(null==e?void 0:e.has(t))return;null==e||e.add(t);var r={};try{r=JSON.parse(t.dataset.exec||"{}")}catch(e){console.error("Failed to parse JSON: ",t.dataset.exec)}for(var n in r)r.hasOwnProperty(n)&&y().push({selector:n,payload:{target:t,data:r[n]},postponed:!1,createTime:Date.now()});t.removeAttribute("data-exec")}},u=r("HLtZ"),_=function(t,e){var r={message:"Task execution error",data:{taskName:t.selector,type:void 0===t.payload.dataAttrs?"startup_task":"interactive_task",params:JSON.stringify(void 0===t.payload.dataAttrs?t.payload.data:t.payload.dataAttrs)}};Object(u.logError)(e,{environment:"task_queue",breadcrumb:r}),console.error(e)},l=function(){if(!document.head)throw new Error("Document must be loaded before queue init");return document.head},v=function(){var t=function(){!function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.removeEventListener(r,e[r])}(document.body,l()._tqhl),l()._tqhl=function(t){var e={};for(var r in s)if(s.hasOwnProperty(r)){var n=d(r);t.addEventListener(r,n),e[r]=n}return e}(document.body)};document.addEventListener("DOMContentLoaded",t),"interactive"!==document.readyState&&"complete"!==document.readyState||t()},h=function(){var t=l();t._tqs=new i(_),t._tqi=new i(_),v(),t._tq={setInteractiveHandler:function(e,r,n){return void 0===n&&(n=!1),t._tqi.setHandler(e,r,n)},setStartupHandler:function(e,r,n){void 0===n&&(n=!1),t._tqs.setHandler(e,r,n),t._tqs.restart()}},window._obs=new MutationObserver((function(t){for(var e=new Set,r=0,n=t;r<n.length;r++)for(var a=0,o=n[r].addedNodes;a<o.length;a++){var i=o[a];if(i instanceof HTMLElement||i instanceof SVGElement){c(i,e);for(var s=0,d=i.querySelectorAll("[data-exec]");s<d.length;s++){var u=d[s];(u instanceof HTMLElement||u instanceof SVGElement)&&c(u,e)}}}})),window._obs.observe(document,{subtree:!0,childList:!0,attributes:!0}),function(){for(var t=0,e=document.querySelectorAll("[data-exec]");t<e.length;t++){var r=e[t];(r instanceof HTMLElement||r instanceof SVGElement)&&c(r)}}(),E().setHandler("Common/nav_go",(function(t){var e,r;return(null===(e=t.payload.event)||void 0===e?void 0:e.target)&&window.nav.go(t.payload.event.target,t.payload.event,JSON.parse((null===(r=t.payload.dataAttrs)||void 0===r?void 0:r.options)||"{}")),Promise.resolve(!1)}),!1)},f=function(){var t=l();t._tq?(t._tqi=i.migrate(t._tqi,_),t._tqs=i.migrate(t._tqs,_),v()):h()},m=function(t){return function(){var e=l();if(!e["_"+t])throw new Error(t+" not initialized");return e["_"+t]}},p=m("tq"),E=m("tqi"),y=m("tqs")}}]);try{stManager.done("cmodules/bundles/evbus.3a5978b21e5ebd7ba3de.js")}catch(t){}