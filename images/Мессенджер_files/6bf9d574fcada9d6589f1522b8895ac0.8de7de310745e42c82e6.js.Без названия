(window.webpackJsonp=window.webpackJsonp||[]).push([["6bf9d574fcada9d6589f1522b8895ac0"],{hzb7:function(t,n,o){"use strict";o.r(n),o.d(n,"getPostTopicSelectorParams",(function(){return b})),o.d(n,"isPostTopicEditingEnabled",(function(){return I})),o.d(n,"isPostTopicSettingEnabled",(function(){return g})),o.d(n,"topicUISelectorHide",(function(){return h})),o.d(n,"initPostTopicCreatingSelector",(function(){return S})),o.d(n,"initPostTopicEditingSelector",(function(){return O}));var e,i=o("k487"),c=o("zxIV"),r=o("Egk5"),a=o("t7n3");!function(t){t.topicId="topic_id"}(e||(e={}));var l=function(){return(l=Object.assign||function(t){for(var n,o=1,e=arguments.length;o<e;o++)for(var i in n=arguments[o])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},d=new Map,s=function(t,n){return function(t,n){return d.set(t,n)}(t,{actionParams:void 0,selector:n})},u=function(t,n){!function(t,n){var o=d.get(t);void 0!==o&&d.set(t,n(o))}(t,(function(t){return l(l({},t),{actionParams:n})}))},p=function(t,n){var o;u(t,((o={})[e.topicId]=n,o))},f=function(t){return"post_discover_category_btn"+t},v=function(t,n){var o,e,i=(o={link_id:String(n)},(e=Object(a.getTemplate)("postCategorySelect",o))?Object(c.se)(e):null);if(t instanceof HTMLElement&&i instanceof HTMLElement)return t.appendChild(i),i},h=function(t){var n,o;null===(o=null===(n=function(t){return d.get(t)}(t))||void 0===n?void 0:n.selector)||void 0===o||o.tooltipHide()},b=function(t){var n,o,i=null===(o=function(t){var n;return null===(n=d.get(t))||void 0===n?void 0:n.actionParams}(t))||void 0===o?void 0:o[e.topicId];return void 0!==i&&-1!==i?((n={})[e.topicId]=i,n):void 0},g=function(t){return!0===(null==t?void 0:t.wallPostTopicSettingEnabled)},I=function(t){return void 0!==t.topic_options},w=o("jE6c"),T=o("ZD4m"),y=function(){function t(t,n,o,e){var a=this;this.btnEl=t,this.containerEl=n,this.options=o,this.selectorContentEl=e,this.onOptionClickWrapper=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];a.tooltip.hide();var o=t[0].currentTarget;if(o instanceof HTMLElement){var e=Object(T.getJsonDataValue)(o,"data-click-params");e&&a.selectTopicId(e.value)}},this.linkId=this.options.linkId,this.radioBtnId=f(this.options.linkId),window.radioBtns[this.radioBtnId]={val:!1,els:e.children},this.tooltip=new i.default(t,{appendTo:n,forceSide:"bottom",autoShow:!1,cls:"eltt_fancy eltt_fancy_actions",noOverflow:!1,centerShift:0,offset:[-12*(window.vk.rtl?-1:1),7],content:e,align:"left",onFirstTimeShow:function(){Object(c.show)(e)}}),Object(c.domQuery)('[data-onclick="togglePostTopic"]',n).forEach((function(t){Object(r.addEvent)(t,"click",a.onOptionClickWrapper)}))}return t.create=function(n,o){var e=v(n,o.linkId);if(e){var i=this.getSelectorContentEl(e),r=Object(c.domQuery1)(".post_action_btn_layout",e);if(i&&r)return new t(r,e,o,i)}},t.getSelectorContentEl=function(t){return Object(c.domQuery1)(".post_action_tt_content",t)},t.prototype.destroy=function(){this.tooltip.destroy(),delete window.radioBtns[this.radioBtnId]},t.prototype.tooltipHide=function(){this.tooltip.hide()},t.prototype.selectTopicId=function(t){this.options.selectTopicId(this.linkId,t),this.updateViewForSelectedTopic({isTopicSelected:-1!==t,topicId:t})},t.prototype.clearSelection=function(){this.selectTopicId(-1)},t.prototype.updateViewForSelectedTopic=function(n){var o=n.isTopicSelected,e=n.topicId,i=t.getSelectOptionEl(this.containerEl,e),r=i&&Object(T.getJsonDataValue)(i,"data-click-params"),a=Object(c.domQuery1)(".post_action_btn_text",this.containerEl);if(i&&r&&a){var l=r.label;window.radiobtn(i,void 0,f(this.options.linkId));var d=a.getAttribute("data-empty")||"",s=o?l:d;a.innerHTML=s,a.setAttribute("aria-label",Object(w.replaceEntities)(s)),Object(c.toggleClass)(this.containerEl,"on",o)}},t.getSelectOptionEl=function(t,n){return Object(c.domQuery1)('[data-value="'+n+'"]',t)},t}(),E=function(t,n,o){var i=y.create(n,{linkId:t,selectTopicId:p});if(i)return s(t,i),i.selectTopicId(o[e.topicId]),{clearSelection:function(){i.clearSelection()},onDestroy:function(){i.destroy()}}},S=function(t,n){var o;return E(t,n,((o={})[e.topicId]=-1,o))},O=function(t,n,o){var i,c;return E(t,n,((i={})[e.topicId]=null!==(c=o[e.topicId])&&void 0!==c?c:-1,i))}}}]);try{stManager.done("cmodules/bundles/6bf9d574fcada9d6589f1522b8895ac0.8de7de310745e42c82e6.js")}catch(t){}